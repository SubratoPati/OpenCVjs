<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>OpenCVjs</title>
        <script type="text/javascript" charset="UTF-8" src = "javascript/opencv.js"></script>
        <script type="text/javascript" charset="UTF-8">
            //ダミー画像の指定
            DMY_IMG = "javascript/dmy.jpg";
            //複数のIplImageをインスタンス化した配列
            var iplImages = [new IplImage(), new IplImage(), new IplImage()];
            //複数のimgタグのidの配列
            var dispImages = ["dispImage1", "dispImage2", "dispImage3"];
            //画像サイズの変更倍率
            var ratio = 1.5; 
            
            //複数の画像のサイズを変更するメソッド
            function Resizes(imgIds, iplImages, ratio){
	        try{
	    	        for(var i = 0 ; i < imgIds.length ; i++){
		            var imgId = imgIds[i];
                            var newIplImage = cvCreateImage(iplImages[i].width * ratio, iplImages[i].height * ratio);
                            cvResize(iplImages[i], newIplImage, CV_INTER.CUBIC);
                            cvShowImage(imgId, newIplImage);
                }
            }
            catch(ex){
                alert("Reisze : " + ex);
            }
        }
        </script>
        <body>
            <!-- 複数の画像を読み込み -->
            <input type="file" id="file1" onClick="cvLoadImagePre(event, 'file1')" onchange="cvLoadImages(event, dispImages, iplImages, 200)" multiple>
            <input type="button" value="resize" onClick="Resizes(dispImages, iplImages, ratio)">
            <hr />
        <!-- 読み込んだ画像を表示するimgタグ -->
        <img id="dispImage1" src=""> <br />
        <img id="dispImage2" src=""> <br />
        <img id="dispImage3" src="">
    </body>
</html>